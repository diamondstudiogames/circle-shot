# Создание эффектов

1. Создайте папку в `game/effects/` с именем Вашего эффекта (в *snake_case*).
2. Унаследуйтесь от сцены `game/entity/effect.tscn`, назовите её так же, как и папку Вашего эффекта. Имя корневого узла должно быть таким же, но в *PascalCase*.
3. Создайте эффект.
    - Расширьте скрипт корневого узла и напишите там свою логику в виртуальных методах (`_start_effect` и `_end_effect`). Шаблон скрипта должен помочь.
    - Используйте `data` для получения данных, переданных при создании эффекта, и `entity` для сущности, на которой находится этот эффект.
    - Настройте `Stackable` (может ли быть несколько эффектов на сущности одновременно) и `Negative`.
4. Зарегистрируйте эффект.
    - В `game/entity/effect.gd` создайте константу с именем Вашего эффекта в *CONSTANT_CASE*.
    - В значении константы укажите строку с UID сцены Вашего эффекта.
    - Задокументируйте константу, в частности укажите, что нужно передавать в `data` при создании эффекта.
5. Готово! Теперь эффект можно добавлять на сущность с помощью `add_effect.rpc(Effect.<ИМЯ_ВАШЕГО_ЭФФЕКТА>)`.

**Примечание**: если эффект планируется использовать только в одном месте (например, эффект какого-то оружия), то стоит создавать папку эффекта рядом с местом его использования (то есть, например, в папке оружия) и не регистрировать его в классе `Effect`, а где-нибудь в другом месте (например, в скрипте оружия).
